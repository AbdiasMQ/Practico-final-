{% extends 'base.html' %}
{% block content %}
<h1>Lista de clientes</h1>
<!-- FORMULARIO DE BÚSQUEDA RESPONSIVO -->
<form method="get" class="mb-3">
    <div class="d-flex flex-column flex-sm-row mb-3">
        <input type="text" name="q" class="form-control mb-2 mb-sm-0" 
               placeholder="Ingrese el nombre del cliente..." value="{{ q }}"> <!-- input responsivo -->
        <button type="submit" class="btn btn-primary ms-sm-2">Buscar</button> <!-- margen a la izquierda en pantallas grandes -->
    </div>
</form>

<!-- BOTÓN RESPONSIVO -->
<div class="mt-3">
    <a href="{% url 'clientes:cliente_create' %}" class="btn btn-success">Agregar nuevo cliente</a>
</div>
{% if clientes %}

<!-- TABLA RESPONSIVA -->
<div class="table-responsive"> 
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>DNI</th>
                <th>Email</th>
                <th>Telefono</th>
                <th>Direccion</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for c in clientes %}
                <tr>
                    <td>{{ c.nombre }}</td>
                    <td>{{ c.apellido }}</td>
                    <td>{{ c.dni }}</td>
                    <td>{{ c.email }}</td>
                    <td>{{ c.telefono }}</td>
                    <td>{{ c.direccion }}</td>
                    <td>
                        <!-- Botones apilables en móvil, en línea en escritorio -->
                        <div class="d-flex flex-column flex-md-row">
                            <a href="{% url 'clientes:cliente_detail' c.pk %}" class="btn btn-info mb-1 mb-md-0 me-md-1">Ver</a>
                            <a href="{% url 'clientes:cliente_update' c.pk %}" class="btn btn-primary mb-1 mb-md-0 me-md-1">Modificar</a>
                            <a href="{% url 'clientes:cliente_delete' c.pk %}" class="btn btn-danger">Eliminar</a>
                        </div>
                    </td>
                </tr>
            {% endfor %}  
        </tbody>
    </table>
</div> <!-- fin de table-responsive -->
{% else %}
    <p>No hay clientes registrados.</p> 
{% endif %}



<!-- PAGINADOR -->
<div class="mt-3">
    {% include 'paginator.html' %}
</div>

{% endblock content %}
