{% extends 'base.html' %}
{% block title %}Listado de Ventas{% endblock %}

{% block content %}
<h1>Listado de Ventas</h1>
<form method="get" >
    <div class="d-flex flex-column flex-sm-row ">
        <input type="text" name="q" class="form-control mb-2 mb-sm-0" 
               placeholder="Ingrese el codigo de la venta..." value="{{ q }}"> 
        <button type="submit" class="btn btn-primary ms-sm-2">Buscar</button> 
    </div>
</form>
<!-- BOTÓN NUEVA VENTA -->
<a href="{% url 'ventas:venta_create' %}" class="btn btn-success mt-3">Nueva Venta</a>
<!-- FORMULARIO DE BÚSQUEDA RESPONSIVO -->
{% if ventas %}
<!-- TABLA RESPONSIVA -->
<div class="table-responsive"> 
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Código</th>
                <th>Cliente</th>
                <th>Fecha</th>
                <th>Total</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for v in ventas %}
            <tr>
                <td>{{ v.codigo }}</td>
                <td>{{ v.cliente }}</td>
                <td>{{ v.fecha }}</td>
                <td>${{ v.total }}</td>
                <td>
                    <div class="d-flex flex-column flex-md-row gap-1">
                        <a href="{% url 'ventas:venta_detail' v.pk %}" class="btn btn-info mb-1 mb-md-0 me-md-1">Ver</a>
                        <a href="{% url 'ventas:venta_delete' v.pk %}" class="btn btn-danger">Eliminar</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div> <!-- fin de table-responsive -->



{% else %}
<p>No hay ventas registradas.</p>
{% endif %}

<!-- PAGINADOR -->
<div class="mt-3">
    {% include 'paginator.html' %}
</div>
{% endblock %}
